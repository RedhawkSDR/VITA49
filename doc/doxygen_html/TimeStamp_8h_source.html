<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VRT: cpp_src/vrt/lib/TimeStamp.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_9cdb84786025dce5341bd6779587713e.html">cpp_src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_2a85b8859a218345fc0faac8bfab6e3b.html">vrt</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_cc9e5102231cfbdf7534bbc43e2ed466.html">lib</a>
  </div>
</div>
<div class="contents">
<h1>TimeStamp.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* ===================== COPYRIGHT NOTICE =====================</span>
<a name="l00002"></a>00002 <span class="comment"> * This file is protected by Copyright. Please refer to the COPYRIGHT file</span>
<a name="l00003"></a>00003 <span class="comment"> * distributed with this source distribution.</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * This file is part of REDHAWK.</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * REDHAWK is free software: you can redistribute it and/or modify it</span>
<a name="l00008"></a>00008 <span class="comment"> * under the terms of the GNU Lesser General Public License as published by the</span>
<a name="l00009"></a>00009 <span class="comment"> * Free Software Foundation, either version 3 of the License, or (at your</span>
<a name="l00010"></a>00010 <span class="comment"> * option) any later version.</span>
<a name="l00011"></a>00011 <span class="comment"> *</span>
<a name="l00012"></a>00012 <span class="comment"> * REDHAWK is distributed in the hope that it will be useful, but WITHOUT</span>
<a name="l00013"></a>00013 <span class="comment"> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or</span>
<a name="l00014"></a>00014 <span class="comment"> * FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License</span>
<a name="l00015"></a>00015 <span class="comment"> * for more details.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> * You should have received a copy of the GNU Lesser General Public License</span>
<a name="l00018"></a>00018 <span class="comment"> * along with this program. If not, see http://www.gnu.org/licenses/.</span>
<a name="l00019"></a>00019 <span class="comment"> * ============================================================</span>
<a name="l00020"></a>00020 <span class="comment"> */</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#ifndef _TimeStamp_h</span>
<a name="l00023"></a>00023 <span class="preprocessor"></span><span class="preprocessor">#define _TimeStamp_h</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;VRTObject.h&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;LeapSeconds.h&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;Utilities.h&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;VRTMath.h&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;HasFields.h&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;cctype&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;sstream&gt;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="keyword">namespace </span>vrt {
<a name="l00036"></a>00036   <span class="keyword">enum</span> IntegerMode {    IntegerMode_None  = 0,    IntegerMode_UTC   = 1,    IntegerMode_GPS   = 2,    IntegerMode_Other = 3
<a name="l00041"></a>00041   };
<a name="l00042"></a>00042 
<a name="l00044"></a>00044   <span class="keyword">enum</span> FractionalMode {    FractionalMode_None             = 0,    FractionalMode_SampleCount      = 1,    FractionalMode_RealTime         = 2,    FractionalMode_FreeRunningCount = 3
<a name="l00049"></a>00049   };
<a name="l00050"></a>00050 
<a name="l00281"></a><a class="code" href="classvrt_1_1TimeStamp.html">00281</a>   <span class="keyword">class </span><a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> : <span class="keyword">public</span> <a class="code" href="classvrt_1_1VRTObject.html" title="A basic root-level object definition.">VRTObject</a>, <span class="keyword">public</span> <a class="code" href="classvrt_1_1HasFields.html" title="Interface indicating that an object has queriable fields.">HasFields</a> {
<a name="l00289"></a><a class="code" href="classvrt_1_1TimeStamp.html#a5d6786a9c653ac2d07a8221009cb5a86">00289</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="classvrt_1_1TimeStamp.html#a5d6786a9c653ac2d07a8221009cb5a86" title="The value of 1 picosecond in seconds.">ONE_PICOSECOND</a>;
<a name="l00290"></a>00290 
<a name="l00296"></a><a class="code" href="classvrt_1_1TimeStamp.html#aceee6ed4916391cdf1cc99d6a2fe37a7">00296</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="classvrt_1_1TimeStamp.html#aceee6ed4916391cdf1cc99d6a2fe37a7" title="The value of 1/2 picosecond in seconds.">HALF_PICOSECOND</a>;
<a name="l00297"></a>00297 
<a name="l00303"></a><a class="code" href="classvrt_1_1TimeStamp.html#a8f225b74de3854ef8e091f540da0de1b">00303</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> int64_t <a class="code" href="classvrt_1_1TimeStamp.html#a8f225b74de3854ef8e091f540da0de1b" title="The value of 1 second in picoseconds.">ONE_SEC</a>;
<a name="l00304"></a>00304 
<a name="l00310"></a><a class="code" href="classvrt_1_1TimeStamp.html#a7983356496f33c3bf8d94af1619c730f">00310</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> uint64_t <a class="code" href="classvrt_1_1TimeStamp.html#a7983356496f33c3bf8d94af1619c730f" title="The value of 1 second in picoseconds (unsigned variant).">ONE_SECOND</a>;
<a name="l00311"></a>00311 
<a name="l00313"></a><a class="code" href="classvrt_1_1TimeStamp.html#a13222d9484701f85b876ee312655a350">00313</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> IntegerMode <a class="code" href="classvrt_1_1TimeStamp.html#a13222d9484701f85b876ee312655a350" title="The UTC epoch.">UTC_EPOCH</a>;
<a name="l00314"></a>00314 
<a name="l00316"></a><a class="code" href="classvrt_1_1TimeStamp.html#af986db9297b14ac15d6c1ef0da09d764">00316</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> IntegerMode <a class="code" href="classvrt_1_1TimeStamp.html#af986db9297b14ac15d6c1ef0da09d764" title="The GPS epoch.">GPS_EPOCH</a>;
<a name="l00317"></a>00317 
<a name="l00319"></a><a class="code" href="classvrt_1_1TimeStamp.html#a56bdaa9ca4c24a7d0c4b5cee54788f2b">00319</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> IntegerMode <a class="code" href="classvrt_1_1TimeStamp.html#a56bdaa9ca4c24a7d0c4b5cee54788f2b" title="The &amp;quot;null&amp;quot; epoch.">NULL_EPOCH</a>;
<a name="l00320"></a>00320 
<a name="l00326"></a><a class="code" href="classvrt_1_1TimeStamp.html#a361cd0341748ed10363d622448ff3123">00326</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a361cd0341748ed10363d622448ff3123" title="An empty time stamp.">NO_TIME_STAMP</a>;
<a name="l00327"></a>00327 
<a name="l00331"></a><a class="code" href="classvrt_1_1TimeStamp.html#a1d1b63c9790ff9a5a9e575a62c4ebd7d">00331</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a1d1b63c9790ff9a5a9e575a62c4ebd7d" title="This is equal to the start of the year 2000 in the GPS epoch and provides a reasonable...">Y2K_GPS</a>;
<a name="l00332"></a>00332 
<a name="l00342"></a><a class="code" href="classvrt_1_1TimeStamp.html#a0a104ea4471fc5a2f7861212670d6ec0">00342</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> int32_t <a class="code" href="classvrt_1_1TimeStamp.html#a0a104ea4471fc5a2f7861212670d6ec0" title="Delta between GPS and UTC epochs.">GPS2UTC</a>;
<a name="l00343"></a>00343 
<a name="l00350"></a><a class="code" href="classvrt_1_1TimeStamp.html#a7ad8e9d243ae8b1be136499900d0129a">00350</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> int32_t <a class="code" href="classvrt_1_1TimeStamp.html#a7ad8e9d243ae8b1be136499900d0129a" title="Delta between Midas and POSIX epochs.">MIDAS2POSIX</a>;
<a name="l00351"></a>00351 
<a name="l00357"></a><a class="code" href="classvrt_1_1TimeStamp.html#a21abeede4932f2318181f0c4eceaa64e">00357</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">const</span> int32_t <a class="code" href="classvrt_1_1TimeStamp.html#a21abeede4932f2318181f0c4eceaa64e" title="Delta between GPS and PTP epochs.">GPS2PTP</a>;
<a name="l00358"></a>00358 
<a name="l00359"></a>00359     <span class="keyword">private</span>: IntegerMode    tsiMode;
<a name="l00360"></a>00360     <span class="keyword">private</span>: FractionalMode tsfMode;
<a name="l00361"></a>00361     <span class="keyword">private</span>: uint32_t       tsi;
<a name="l00362"></a>00362     <span class="keyword">private</span>: uint64_t       tsf;
<a name="l00363"></a>00363     <span class="keyword">private</span>: <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a>   *ls;
<a name="l00364"></a>00364     <span class="keyword">private</span>: <span class="keywordtype">double</span>         sr;
<a name="l00365"></a>00365 
<a name="l00367"></a>00367     <span class="keyword">private</span>: <a class="code" href="classvrt_1_1TimeStamp.html#a373319bdb25b335afee86ff4d7948b27" title="Basic no-argument constructor.">TimeStamp</a> (<a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *ls, IntegerMode tsiMode, FractionalMode tsfMode, uint32_t sec, uint64_t ps, <span class="keywordtype">double</span> sr=DOUBLE_NAN);
<a name="l00368"></a>00368 
<a name="l00372"></a>00372     <span class="keyword">public</span>: <a class="code" href="classvrt_1_1TimeStamp.html#a373319bdb25b335afee86ff4d7948b27" title="Basic no-argument constructor.">TimeStamp</a> ();
<a name="l00373"></a>00373 
<a name="l00375"></a>00375     <span class="keyword">public</span>: <a class="code" href="classvrt_1_1TimeStamp.html#a373319bdb25b335afee86ff4d7948b27" title="Basic no-argument constructor.">TimeStamp</a> (<span class="keyword">const</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> &amp;ts);
<a name="l00376"></a>00376 
<a name="l00378"></a><a class="code" href="classvrt_1_1TimeStamp.html#acbcb6b72d669c1aed228d2915e04fc01">00378</a>     <span class="keyword">public</span>: <a class="code" href="classvrt_1_1TimeStamp.html#acbcb6b72d669c1aed228d2915e04fc01" title="Destructor.">~TimeStamp</a> () { }
<a name="l00379"></a>00379 
<a name="l00391"></a>00391     <span class="keyword">public</span>: <a class="code" href="classvrt_1_1TimeStamp.html#a373319bdb25b335afee86ff4d7948b27" title="Basic no-argument constructor.">TimeStamp</a> (IntegerMode epoch, uint32_t sec, uint64_t ps, <span class="keywordtype">double</span> sr = DOUBLE_NAN);
<a name="l00392"></a>00392 
<a name="l00405"></a>00405     <span class="keyword">public</span>: <a class="code" href="classvrt_1_1TimeStamp.html#a373319bdb25b335afee86ff4d7948b27" title="Basic no-argument constructor.">TimeStamp</a> (IntegerMode tsiMode, FractionalMode tsfMode, uint32_t tsi, uint64_t tsf, <span class="keywordtype">double</span> sr = DOUBLE_NAN);
<a name="l00406"></a>00406 
<a name="l00420"></a>00420     <span class="keyword">public</span>: <a class="code" href="classvrt_1_1TimeStamp.html#a373319bdb25b335afee86ff4d7948b27" title="Basic no-argument constructor.">TimeStamp</a> (IntegerMode tsiMode, FractionalMode tsfMode, uint32_t tsi, uint64_t tsf, <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *ls, <span class="keywordtype">double</span> sr = DOUBLE_NAN);
<a name="l00421"></a>00421 
<a name="l00423"></a><a class="code" href="classvrt_1_1TimeStamp.html#ad722bd73b051e12eac1b7a3727e719e5">00423</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classvrt_1_1TimeStamp.html#ad722bd73b051e12eac1b7a3727e719e5" title="A record is considered null both the integer and fractional modes are set to None...">isNullValue</a> ()<span class="keyword"> const </span>{
<a name="l00424"></a>00424       <span class="keywordflow">return</span> (tsiMode == IntegerMode_None) &amp;&amp; (tsfMode == FractionalMode_None);
<a name="l00425"></a>00425     }
<a name="l00426"></a>00426 
<a name="l00432"></a><a class="code" href="classvrt_1_1TimeStamp.html#aa2c033efcf69a2f10a04fc199432eaa0">00432</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#aa2c033efcf69a2f10a04fc199432eaa0" title="Gets a time stamp using system time.">getSystemTime</a> () {
<a name="l00433"></a>00433       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#aa2c033efcf69a2f10a04fc199432eaa0" title="Gets a time stamp using system time.">getSystemTime</a>(<a class="code" href="classvrt_1_1LeapSeconds.html#a14d85c136506b1a4f2fe78bb59de4e5b" title="Gets the default instance.">LeapSeconds::getDefaultInstance</a>());
<a name="l00434"></a>00434     }
<a name="l00435"></a>00435 
<a name="l00442"></a>00442     <span class="keyword">public</span>: <span class="keyword">static</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#aa2c033efcf69a2f10a04fc199432eaa0" title="Gets a time stamp using system time.">getSystemTime</a> (<a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *ls);
<a name="l00443"></a>00443 
<a name="l00450"></a>00450     <span class="keyword">public</span>: <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#adaa674b8f7f640be064677e1515fb2bd" title="Converts from UTC or GPS time to UTC.">toUTC</a> () <span class="keyword">const</span>;
<a name="l00451"></a>00451 
<a name="l00458"></a>00458     <span class="keyword">public</span>: <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a8cce534b27ef029108e4d8d722f46a1c" title="Converts from UTC or GPS time to GPS.">toGPS</a> () <span class="keyword">const</span>;
<a name="l00459"></a>00459 
<a name="l00468"></a><a class="code" href="classvrt_1_1TimeStamp.html#a176cf3fe6e752062b7e874408f798499">00468</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a176cf3fe6e752062b7e874408f798499" title="Adds the specified number of seconds to the current time and returns the resulting...">addSeconds</a> (int64_t sec)<span class="keyword"> const </span>{
<a name="l00469"></a>00469       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a1705e2099c16ab7c51b755c0e7855b9b" title="Adds the specified number of picoseconds to the current time and returns the resulting...">addTime</a>(sec, __INT64_C(0), <span class="keyword">false</span>);
<a name="l00470"></a>00470     }
<a name="l00471"></a>00471 
<a name="l00480"></a><a class="code" href="classvrt_1_1TimeStamp.html#a49a148dff3d49f693763224487be0bfc">00480</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a49a148dff3d49f693763224487be0bfc" title="Adds the specified number of picoseconds to the current time and returns the resulting...">addPicoSeconds</a> (int64_t ps)<span class="keyword"> const </span>{
<a name="l00481"></a>00481       <span class="keywordflow">if</span> (tsfMode == FractionalMode_RealTime) {
<a name="l00482"></a>00482         <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a1705e2099c16ab7c51b755c0e7855b9b" title="Adds the specified number of picoseconds to the current time and returns the resulting...">addTime</a>(__INT64_C(0), ps, <a class="code" href="classvrt_1_1TimeStamp.html#a8f225b74de3854ef8e091f540da0de1b" title="The value of 1 second in picoseconds.">ONE_SEC</a>, <span class="keyword">true</span>);
<a name="l00483"></a>00483       }
<a name="l00484"></a>00484       <span class="keywordflow">throw</span> <a class="code" href="classvrt_1_1VRTException.html" title="A basic exception definition.">VRTException</a>(<span class="stringliteral">&quot;Can not add picoseconds to non-RealTime&quot;</span>);
<a name="l00485"></a>00485     }
<a name="l00486"></a>00486 
<a name="l00496"></a><a class="code" href="classvrt_1_1TimeStamp.html#aa25e61cc6266de9cdb26b3e05c5e48a7">00496</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#aa25e61cc6266de9cdb26b3e05c5e48a7" title="Adds the specified number of picoseconds to the current time and returns the resulting...">addSamples</a> (int64_t samples, <span class="keywordtype">double</span> _sr)<span class="keyword"> const </span>{
<a name="l00497"></a>00497       <span class="keywordflow">if</span> (tsfMode == FractionalMode_SampleCount) {
<a name="l00498"></a>00498         <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a1705e2099c16ab7c51b755c0e7855b9b" title="Adds the specified number of picoseconds to the current time and returns the resulting...">addTime</a>(__INT64_C(0), samples, _sr, <span class="keyword">true</span>);
<a name="l00499"></a>00499       }
<a name="l00500"></a>00500       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tsfMode == FractionalMode_RealTime) {
<a name="l00501"></a>00501         <span class="keywordtype">double</span> dt = samples / _sr; <span class="comment">// 1/seconds</span>
<a name="l00502"></a>00502         <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a49a148dff3d49f693763224487be0bfc" title="Adds the specified number of picoseconds to the current time and returns the resulting...">addPicoSeconds</a>((int64_t)floor(dt * <a class="code" href="classvrt_1_1TimeStamp.html#a8f225b74de3854ef8e091f540da0de1b" title="The value of 1 second in picoseconds.">TimeStamp::ONE_SEC</a> + 0.5));
<a name="l00503"></a>00503       }
<a name="l00504"></a>00504       <span class="keywordflow">throw</span> <a class="code" href="classvrt_1_1VRTException.html" title="A basic exception definition.">VRTException</a>(<span class="stringliteral">&quot;Can not add samples to non-(RealTime or SampleCount) to non GPS/UTC time&quot;</span>);
<a name="l00505"></a>00505     }
<a name="l00506"></a>00506 
<a name="l00537"></a><a class="code" href="classvrt_1_1TimeStamp.html#a1705e2099c16ab7c51b755c0e7855b9b">00537</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a1705e2099c16ab7c51b755c0e7855b9b" title="Adds the specified number of picoseconds to the current time and returns the resulting...">addTime</a> (int64_t sec, int64_t ps)<span class="keyword"> const </span>{
<a name="l00538"></a>00538       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a1705e2099c16ab7c51b755c0e7855b9b" title="Adds the specified number of picoseconds to the current time and returns the resulting...">addTime</a>(sec, ps, <a class="code" href="classvrt_1_1TimeStamp.html#a8f225b74de3854ef8e091f540da0de1b" title="The value of 1 second in picoseconds.">ONE_SEC</a>, <span class="keyword">true</span>);
<a name="l00539"></a>00539     }
<a name="l00540"></a>00540 
<a name="l00541"></a>00541     <span class="keyword">public</span>: <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a1705e2099c16ab7c51b755c0e7855b9b" title="Adds the specified number of picoseconds to the current time and returns the resulting...">addTime</a> (int64_t sec, int64_t fsec, <span class="keywordtype">double</span> _sr)<span class="keyword"> const </span>{
<a name="l00542"></a>00542       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a1705e2099c16ab7c51b755c0e7855b9b" title="Adds the specified number of picoseconds to the current time and returns the resulting...">addTime</a>(sec, fsec, _sr, <span class="keyword">true</span>);
<a name="l00543"></a>00543     }
<a name="l00544"></a>00544 
<a name="l00546"></a>00546     <span class="keyword">private</span>: <a class="code" href="classvrt_1_1TimeStamp.html#a373319bdb25b335afee86ff4d7948b27" title="Basic no-argument constructor.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a1705e2099c16ab7c51b755c0e7855b9b" title="Adds the specified number of picoseconds to the current time and returns the resulting...">addTime</a> (int64_t sec, int64_t fsec, <span class="keywordtype">double</span> sr, <span class="keywordtype">bool</span> fract) <span class="keyword">const</span>;
<a name="l00547"></a>00547 
<a name="l00560"></a>00560     <span class="keyword">public</span>: <span class="keywordtype">char</span> <a class="code" href="classvrt_1_1TimeStamp.html#ad9585ad951319c515d77394ba17d331f" title="Compares time stamp values.">compareTo</a> (<span class="keyword">const</span> <a class="code" href="classvrt_1_1TimeStamp.html#a373319bdb25b335afee86ff4d7948b27" title="Basic no-argument constructor.">TimeStamp</a> &amp;other) <span class="keyword">const</span>;
<a name="l00561"></a>00561 
<a name="l00562"></a>00562     <span class="keyword">using</span> <a class="code" href="classvrt_1_1VRTObject.html#a2f18f4efc73c423629510033039536fc" title="Tests this object for equality with another one.">VRTObject::equals</a>;
<a name="l00568"></a>00568     <span class="keyword">public</span>: <span class="keywordtype">bool</span> <a class="code" href="classvrt_1_1TimeStamp.html#a24e97b01c8bdcd368f3b0f51b9e8cdee" title="Equals method that checks for strict equality.">equals</a> (<span class="keyword">const</span> <a class="code" href="classvrt_1_1VRTObject.html#a63fdb914d0bb40e45bce0a9a5cd24dee" title="Basic no-argument constructor.">VRTObject</a> &amp;ts) <span class="keyword">const</span>;
<a name="l00569"></a>00569 
<a name="l00585"></a>00585     <span class="keyword">public</span>: <span class="keywordtype">string</span> <a class="code" href="classvrt_1_1TimeStamp.html#a0ce71effa67004e245411de7337c1821" title="A textural representation of the time stamp.">toString</a> () <span class="keyword">const</span>;
<a name="l00586"></a>00586 
<a name="l00588"></a>00588     <span class="keyword">public</span>: <span class="keywordtype">string</span> <a class="code" href="classvrt_1_1TimeStamp.html#a09afb72676c6bd71b74fa066f91beb87" title="A textural representation of the time stamp in UTC.">toStringUTC</a> (<span class="keywordtype">string</span> format) <span class="keyword">const</span>;
<a name="l00589"></a>00589 
<a name="l00595"></a>00595     <span class="keyword">public</span>: <span class="keywordtype">string</span> <a class="code" href="classvrt_1_1TimeStamp.html#a09afb72676c6bd71b74fa066f91beb87" title="A textural representation of the time stamp in UTC.">toStringUTC</a> () <span class="keyword">const</span>;
<a name="l00596"></a>00596 
<a name="l00602"></a>00602     <span class="keyword">public</span>: <span class="keywordtype">string</span> <a class="code" href="classvrt_1_1TimeStamp.html#ae4c371dbcf650e4b95f910678d900fb0" title="A textural representation of the time stamp in UTC.">toStringGPS</a> () <span class="keyword">const</span>;
<a name="l00603"></a>00603 
<a name="l00611"></a>00611     <span class="keyword">public</span>: IntegerMode <a class="code" href="classvrt_1_1TimeStamp.html#a48589dfd44cd3ea0bc61e62e9281d7b2" title="Gets the epoch used.">getEpoch</a> () <span class="keyword">const</span>;
<a name="l00612"></a>00612 
<a name="l00616"></a><a class="code" href="classvrt_1_1TimeStamp.html#a4e712195accd3b1fc53468ad2ffdf52d">00616</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> IntegerMode <a class="code" href="classvrt_1_1TimeStamp.html#a4e712195accd3b1fc53468ad2ffdf52d" title="Gets the time stamp mode used for integral seconds.">getIntegerMode</a> ()<span class="keyword"> const </span>{
<a name="l00617"></a>00617       <span class="keywordflow">return</span> tsiMode;
<a name="l00618"></a>00618     }
<a name="l00619"></a>00619 
<a name="l00623"></a><a class="code" href="classvrt_1_1TimeStamp.html#ab634e3303570a146d5c63d6132d51d41">00623</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> FractionalMode <a class="code" href="classvrt_1_1TimeStamp.html#ab634e3303570a146d5c63d6132d51d41" title="Gets the time stamp mode used for fractional seconds.">getFractionalMode</a> ()<span class="keyword"> const </span>{
<a name="l00624"></a>00624       <span class="keywordflow">return</span> tsfMode;
<a name="l00625"></a>00625     }
<a name="l00626"></a>00626 
<a name="l00632"></a>00632     <span class="keyword">public</span>: uint32_t <a class="code" href="classvrt_1_1TimeStamp.html#a874cc97fe5e98ef0548132f421605fb6" title="Gets the integer time stamp in UTC seconds (if GPS it converts to UTC first).">getSecondsUTC</a> () <span class="keyword">const</span>;
<a name="l00633"></a>00633 
<a name="l00640"></a>00640     <span class="keyword">public</span>: <span class="keywordtype">double</span> <a class="code" href="classvrt_1_1TimeStamp.html#a464b240697744d8262f201f2e71a7f9e" title="Gets the floating point time stamp in UTC seconds (if GPS it converts to UTC first)...">getDoubleSeconds</a> () <span class="keyword">const</span>;
<a name="l00641"></a>00641 
<a name="l00649"></a>00649     <span class="keyword">public</span>: <span class="keywordtype">double</span> <a class="code" href="classvrt_1_1TimeStamp.html#a464b240697744d8262f201f2e71a7f9e" title="Gets the floating point time stamp in UTC seconds (if GPS it converts to UTC first)...">getDoubleSeconds</a> (<span class="keywordtype">double</span> sr) <span class="keyword">const</span>;
<a name="l00650"></a>00650 
<a name="l00656"></a>00656     <span class="keyword">public</span>: uint32_t <a class="code" href="classvrt_1_1TimeStamp.html#aff0196f9f6c370bc74776a11f9da68b4" title="Gets the integer time stamp in GPS seconds (if UTC it converts to GPS first).">getSecondsGPS</a> () <span class="keyword">const</span>;
<a name="l00657"></a>00657 
<a name="l00666"></a><a class="code" href="classvrt_1_1TimeStamp.html#ad7b425d904ebceb82cae4a5056a06286">00666</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> uint32_t <a class="code" href="classvrt_1_1TimeStamp.html#ad7b425d904ebceb82cae4a5056a06286" title="Gets the integer time stamp in NORAD seconds (if GPS it converts to UTC first then...">getSecondsNORAD</a> (boolNull leapCounted=_NULL)<span class="keyword"> const </span>{
<a name="l00667"></a>00667       <span class="keywordflow">return</span> (uint32_t)<a class="code" href="classvrt_1_1TimeStamp.html#aed5538f2ad76a1dbf68e5c22777eabda" title="Gets the integer time stamp in NORAD seconds (if GPS it converts to UTC first then...">getNORADSeconds</a>(leapCounted);
<a name="l00668"></a>00668     }
<a name="l00669"></a>00669 
<a name="l00676"></a><a class="code" href="classvrt_1_1TimeStamp.html#a1b395bb1fef7e7a0f8c1457d985d2864">00676</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> uint32_t <a class="code" href="classvrt_1_1TimeStamp.html#a1b395bb1fef7e7a0f8c1457d985d2864" title="Gets the integer time stamp in POSIX seconds (if GPS it converts to UTC first then...">getSecondsPOSIX</a> ()<span class="keyword"> const </span>{
<a name="l00677"></a>00677       <span class="keywordflow">return</span> (uint32_t)<a class="code" href="classvrt_1_1TimeStamp.html#a331d7b738aa8a07b9c92efcb7958f4aa" title="Gets the integer time stamp in POSIX seconds (if GPS it converts to UTC first then...">getPOSIXSeconds</a>();
<a name="l00678"></a>00678     }
<a name="l00679"></a>00679 
<a name="l00685"></a><a class="code" href="classvrt_1_1TimeStamp.html#a9763836a5a65bd60e0639ddae063d534">00685</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> int64_t <a class="code" href="classvrt_1_1TimeStamp.html#a9763836a5a65bd60e0639ddae063d534" title="Gets the integer time stamp in UTC seconds (if GPS it converts to UTC first).">getUTCSeconds</a> ()<span class="keyword"> const </span>{
<a name="l00686"></a>00686       <span class="keywordflow">return</span> (int64_t)<a class="code" href="classvrt_1_1TimeStamp.html#a874cc97fe5e98ef0548132f421605fb6" title="Gets the integer time stamp in UTC seconds (if GPS it converts to UTC first).">getSecondsUTC</a>();
<a name="l00687"></a>00687     }
<a name="l00688"></a>00688 
<a name="l00694"></a><a class="code" href="classvrt_1_1TimeStamp.html#aab7e90253d46f16d50b64a29e0446420">00694</a>     <span class="keyword">public</span>: int64_t <a class="code" href="classvrt_1_1TimeStamp.html#aab7e90253d46f16d50b64a29e0446420" title="Gets the integer time stamp in GPS seconds (if UTC it converts to GPS first).">getGPSSeconds</a> ()<span class="keyword"> const </span>{
<a name="l00695"></a>00695       <span class="keywordflow">return</span> (int64_t)<a class="code" href="classvrt_1_1TimeStamp.html#aff0196f9f6c370bc74776a11f9da68b4" title="Gets the integer time stamp in GPS seconds (if UTC it converts to GPS first).">getSecondsGPS</a>();
<a name="l00696"></a>00696     }
<a name="l00697"></a>00697 
<a name="l00706"></a><a class="code" href="classvrt_1_1TimeStamp.html#aed5538f2ad76a1dbf68e5c22777eabda">00706</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> int64_t <a class="code" href="classvrt_1_1TimeStamp.html#aed5538f2ad76a1dbf68e5c22777eabda" title="Gets the integer time stamp in NORAD seconds (if GPS it converts to UTC first then...">getNORADSeconds</a> (boolNull leapCounted=_NULL)<span class="keyword"> const </span>{
<a name="l00707"></a>00707       <span class="keywordtype">bool</span> _leapCounted;
<a name="l00708"></a>00708       <span class="keywordflow">if</span> (leapCounted == _NULL) {
<a name="l00709"></a>00709         _leapCounted = <a class="code" href="namespacevrt_1_1VRTConfig.html#afab85419f6851936325f17bbac0dc72c" title="Enables counting mid-year leap seconds for NORAD time (VRT_NORAD_LS_COUNTED).">VRTConfig::getNoradLeapSecCounted</a>();
<a name="l00710"></a>00710       }
<a name="l00711"></a>00711       <span class="keywordflow">else</span> {
<a name="l00712"></a>00712         _leapCounted = (leapCounted == _TRUE);
<a name="l00713"></a>00713       }
<a name="l00714"></a>00714       <span class="keywordflow">return</span> _getNORADSeconds(_leapCounted);
<a name="l00715"></a>00715     }
<a name="l00716"></a>00716 
<a name="l00718"></a>00718     <span class="keyword">private</span>: int64_t _getNORADSeconds (<span class="keywordtype">bool</span> leapCounted) <span class="keyword">const</span>;
<a name="l00719"></a>00719 
<a name="l00726"></a>00726     <span class="keyword">public</span>: int64_t <a class="code" href="classvrt_1_1TimeStamp.html#a331d7b738aa8a07b9c92efcb7958f4aa" title="Gets the integer time stamp in POSIX seconds (if GPS it converts to UTC first then...">getPOSIXSeconds</a> () <span class="keyword">const</span>;
<a name="l00727"></a>00727 
<a name="l00742"></a><a class="code" href="classvrt_1_1TimeStamp.html#ad370c113bcfee3ffe0376e7d7ae231a7">00742</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classvrt_1_1TimeStamp.html#ad370c113bcfee3ffe0376e7d7ae231a7" title="Gets the integer and fractional time stamp in Midas seconds.">getMidasTime</a> ()<span class="keyword"> const </span>{
<a name="l00743"></a>00743       <span class="keywordflow">if</span> (<a class="code" href="classvrt_1_1TimeStamp.html#ab634e3303570a146d5c63d6132d51d41" title="Gets the time stamp mode used for fractional seconds.">getFractionalMode</a>() == FractionalMode_RealTime) {
<a name="l00744"></a>00744         <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a3b65de93d9f2482037fa1394189aadc4" title="Gets the integer time stamp in Midas seconds.">getMidasSeconds</a>() + <a class="code" href="classvrt_1_1TimeStamp.html#a469e340e280767e8260a629f4cb5c529" title="Gets the fractional time stamp as a fraction of a second.">getFractionalSeconds</a>();
<a name="l00745"></a>00745       }
<a name="l00746"></a>00746       <span class="keywordflow">else</span> {
<a name="l00747"></a>00747         <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a3b65de93d9f2482037fa1394189aadc4" title="Gets the integer time stamp in Midas seconds.">getMidasSeconds</a>();
<a name="l00748"></a>00748       }
<a name="l00749"></a>00749     }
<a name="l00750"></a>00750 
<a name="l00759"></a><a class="code" href="classvrt_1_1TimeStamp.html#a3b65de93d9f2482037fa1394189aadc4">00759</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classvrt_1_1TimeStamp.html#a3b65de93d9f2482037fa1394189aadc4" title="Gets the integer time stamp in Midas seconds.">getMidasSeconds</a> ()<span class="keyword"> const </span>{
<a name="l00760"></a>00760       <span class="keywordflow">return</span> (<span class="keywordtype">double</span>)(<a class="code" href="classvrt_1_1TimeStamp.html#a331d7b738aa8a07b9c92efcb7958f4aa" title="Gets the integer time stamp in POSIX seconds (if GPS it converts to UTC first then...">getPOSIXSeconds</a>() + <a class="code" href="classvrt_1_1TimeStamp.html#a7ad8e9d243ae8b1be136499900d0129a" title="Delta between Midas and POSIX epochs.">MIDAS2POSIX</a>);
<a name="l00761"></a>00761     }
<a name="l00762"></a>00762 
<a name="l00766"></a>00766     <span class="keyword">public</span>: <span class="keywordtype">double</span> <a class="code" href="classvrt_1_1TimeStamp.html#af9e04694b696b9e4fedadc3219acdcef" title="Gets the sample rate.">getSampleRate</a>() <span class="keyword">const</span>;
<a name="l00767"></a>00767 
<a name="l00773"></a>00773     <span class="keyword">public</span>: uint64_t <a class="code" href="classvrt_1_1TimeStamp.html#aa4f90c1fbc57038c7f1b31dcb203971d" title="Gets the fractional time stamp in picoseconds.">getPicoSeconds</a> (<span class="keywordtype">double</span> sr) <span class="keyword">const</span>;
<a name="l00774"></a>00774 
<a name="l00779"></a>00779     <span class="keyword">public</span>: uint64_t <a class="code" href="classvrt_1_1TimeStamp.html#aa4f90c1fbc57038c7f1b31dcb203971d" title="Gets the fractional time stamp in picoseconds.">getPicoSeconds</a> () <span class="keyword">const</span>;
<a name="l00780"></a>00780 
<a name="l00789"></a><a class="code" href="classvrt_1_1TimeStamp.html#a469e340e280767e8260a629f4cb5c529">00789</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="classvrt_1_1TimeStamp.html#a469e340e280767e8260a629f4cb5c529" title="Gets the fractional time stamp as a fraction of a second.">getFractionalSeconds</a> ()<span class="keyword"> const </span>{
<a name="l00790"></a>00790       <span class="keywordflow">return</span> ((<span class="keywordtype">double</span>)<a class="code" href="classvrt_1_1TimeStamp.html#aa4f90c1fbc57038c7f1b31dcb203971d" title="Gets the fractional time stamp in picoseconds.">getPicoSeconds</a>()) / ((double)<a class="code" href="classvrt_1_1TimeStamp.html#a8f225b74de3854ef8e091f540da0de1b" title="The value of 1 second in picoseconds.">ONE_SEC</a>);
<a name="l00791"></a>00791     }
<a name="l00792"></a>00792 
<a name="l00798"></a>00798     <span class="keyword">public</span>: uint64_t <a class="code" href="classvrt_1_1TimeStamp.html#a9364c075bb8c896aa92a55d55c1ce6fa" title="Gets the fractional time stamp in samples.">getSampleCount</a> () <span class="keyword">const</span>;
<a name="l00799"></a>00799 
<a name="l00800"></a>00800 
<a name="l00806"></a><a class="code" href="classvrt_1_1TimeStamp.html#add8dc240d4cfa8ee0b0ecc7abdd3526a">00806</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> uint32_t <a class="code" href="classvrt_1_1TimeStamp.html#add8dc240d4cfa8ee0b0ecc7abdd3526a" title="Gets the integer time stamp.">getTimeStampInteger</a> ()<span class="keyword"> const </span>{
<a name="l00807"></a>00807       <span class="keywordflow">return</span> tsi;
<a name="l00808"></a>00808     }
<a name="l00809"></a>00809 
<a name="l00814"></a><a class="code" href="classvrt_1_1TimeStamp.html#ac11fd40f909f09ffc0997b0a0289de1c">00814</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> uint64_t  <a class="code" href="classvrt_1_1TimeStamp.html#ac11fd40f909f09ffc0997b0a0289de1c" title="Gets the fractional time stamp.">getTimeStampFractional</a> ()<span class="keyword"> const </span>{
<a name="l00815"></a>00815       <span class="keywordflow">return</span> tsf;
<a name="l00816"></a>00816     }
<a name="l00817"></a>00817 
<a name="l00821"></a><a class="code" href="classvrt_1_1TimeStamp.html#a3b43cda1e90acc930648c2cdab54eae4">00821</a>     <span class="keyword">public</span>: <span class="keyword">inline</span> <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *<a class="code" href="classvrt_1_1TimeStamp.html#a3b43cda1e90acc930648c2cdab54eae4" title="Gets the leap-seconds reference used.">getLeapSecondRef</a> ()<span class="keyword"> const </span>{
<a name="l00822"></a>00822       <span class="keywordflow">return</span> ls;
<a name="l00823"></a>00823     }
<a name="l00824"></a>00824 
<a name="l00830"></a><a class="code" href="classvrt_1_1TimeStamp.html#a76d8b313ba42d02ae130e995baa57d9b">00830</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a76d8b313ba42d02ae130e995baa57d9b" title="Parses a time stamp in one of the ISO 8601 formats documented in parseTime(time,...">parseTime</a> (<span class="keywordtype">string</span> time, IntegerMode _tsiMode) {
<a name="l00831"></a>00831       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a76d8b313ba42d02ae130e995baa57d9b" title="Parses a time stamp in one of the ISO 8601 formats documented in parseTime(time,...">parseTime</a>(time, _tsiMode, <a class="code" href="classvrt_1_1LeapSeconds.html#a14d85c136506b1a4f2fe78bb59de4e5b" title="Gets the default instance.">LeapSeconds::getDefaultInstance</a>());
<a name="l00832"></a>00832     }
<a name="l00833"></a>00833 
<a name="l00848"></a>00848     <span class="keyword">public</span>: <span class="keyword">static</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a76d8b313ba42d02ae130e995baa57d9b" title="Parses a time stamp in one of the ISO 8601 formats documented in parseTime(time,...">parseTime</a> (<span class="keywordtype">string</span> time, IntegerMode tsiMode, <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *ls);
<a name="l00849"></a>00849 
<a name="l00862"></a><a class="code" href="classvrt_1_1TimeStamp.html#a6c89894212dd4cc820db12dba5932a75">00862</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a6c89894212dd4cc820db12dba5932a75" title="Converts a time specifier to a time stamp.">forTime</a> (int32_t year, int32_t mon, int32_t day, int32_t hour, int32_t min, int32_t wsec,
<a name="l00863"></a>00863                                              int64_t psec, int32_t zone, IntegerMode _tsiMode) {
<a name="l00864"></a>00864       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a6c89894212dd4cc820db12dba5932a75" title="Converts a time specifier to a time stamp.">forTime</a>(year, mon, day, hour, min, wsec, psec, zone, _tsiMode, <a class="code" href="classvrt_1_1LeapSeconds.html#a14d85c136506b1a4f2fe78bb59de4e5b" title="Gets the default instance.">LeapSeconds::getDefaultInstance</a>());
<a name="l00865"></a>00865     }
<a name="l00866"></a>00866 
<a name="l00880"></a>00880     <span class="keyword">public</span>: <span class="keyword">static</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a6c89894212dd4cc820db12dba5932a75" title="Converts a time specifier to a time stamp.">forTime</a> (int32_t year, int32_t mon, int32_t day, int32_t hour, int32_t min, int32_t wsec,
<a name="l00881"></a>00881                                       int64_t psec, int32_t zone, IntegerMode tsiMode, <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *ls);
<a name="l00882"></a>00882 
<a name="l00883"></a>00883 
<a name="l00891"></a><a class="code" href="classvrt_1_1TimeStamp.html#adf1c22661f7a3aa32d28e8a1e5d9a0ca">00891</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#adf1c22661f7a3aa32d28e8a1e5d9a0ca" title="Creates a time stamp from a POSIX time.">forTimePOSIX</a> (int64_t seconds, int64_t picoseconds) {
<a name="l00892"></a>00892       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#adf1c22661f7a3aa32d28e8a1e5d9a0ca" title="Creates a time stamp from a POSIX time.">forTimePOSIX</a>(seconds, picoseconds, <a class="code" href="classvrt_1_1LeapSeconds.html#a14d85c136506b1a4f2fe78bb59de4e5b" title="Gets the default instance.">LeapSeconds::getDefaultInstance</a>());
<a name="l00893"></a>00893     }
<a name="l00894"></a>00894 
<a name="l00903"></a>00903     <span class="keyword">public</span>: <span class="keyword">static</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#adf1c22661f7a3aa32d28e8a1e5d9a0ca" title="Creates a time stamp from a POSIX time.">forTimePOSIX</a> (int64_t seconds, int64_t picoseconds, <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *ls);
<a name="l00904"></a>00904 
<a name="l00917"></a><a class="code" href="classvrt_1_1TimeStamp.html#ac25844e0af0d409e57c93f3cba2f0765">00917</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#ac25844e0af0d409e57c93f3cba2f0765" title="Creates a time stamp from a Midas time.">forTimeMidas</a> (<span class="keywordtype">double</span> seconds, <span class="keywordtype">double</span> fractionalSeconds) {
<a name="l00918"></a>00918       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#adf1c22661f7a3aa32d28e8a1e5d9a0ca" title="Creates a time stamp from a POSIX time.">forTimePOSIX</a>((int64_t)(seconds - <a class="code" href="classvrt_1_1TimeStamp.html#a7ad8e9d243ae8b1be136499900d0129a" title="Delta between Midas and POSIX epochs.">MIDAS2POSIX</a>),
<a name="l00919"></a>00919                           (int64_t)(<a class="code" href="classvrt_1_1TimeStamp.html#a8f225b74de3854ef8e091f540da0de1b" title="The value of 1 second in picoseconds.">ONE_SEC</a> * fractionalSeconds));
<a name="l00920"></a>00920     }
<a name="l00921"></a>00921 
<a name="l00935"></a><a class="code" href="classvrt_1_1TimeStamp.html#a600a5aac72d3fada43b5eb27f2ce96a6">00935</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a600a5aac72d3fada43b5eb27f2ce96a6" title="Creates a time stamp from a Midas time.">forTimeMidas</a> (<span class="keywordtype">double</span> seconds, <span class="keywordtype">double</span> fractionalSeconds, <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *_ls) {
<a name="l00936"></a>00936       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#adf1c22661f7a3aa32d28e8a1e5d9a0ca" title="Creates a time stamp from a POSIX time.">forTimePOSIX</a>((int64_t)(seconds - <a class="code" href="classvrt_1_1TimeStamp.html#a7ad8e9d243ae8b1be136499900d0129a" title="Delta between Midas and POSIX epochs.">MIDAS2POSIX</a>),
<a name="l00937"></a>00937                           (int64_t)(<a class="code" href="classvrt_1_1TimeStamp.html#a8f225b74de3854ef8e091f540da0de1b" title="The value of 1 second in picoseconds.">ONE_SEC</a> * fractionalSeconds),
<a name="l00938"></a>00938                           _ls);
<a name="l00939"></a>00939     }
<a name="l00940"></a>00940 
<a name="l00950"></a><a class="code" href="classvrt_1_1TimeStamp.html#a6459795ff338aba90d1520344d009a9b">00950</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a6459795ff338aba90d1520344d009a9b" title="Creates a GPS time stamp from a PTP time.">forTimePTP</a> (int64_t seconds, int64_t nanoseconds) {
<a name="l00951"></a>00951       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a6459795ff338aba90d1520344d009a9b" title="Creates a GPS time stamp from a PTP time.">forTimePTP</a>(seconds, nanoseconds, <a class="code" href="classvrt_1_1LeapSeconds.html#a14d85c136506b1a4f2fe78bb59de4e5b" title="Gets the default instance.">LeapSeconds::getDefaultInstance</a>());
<a name="l00952"></a>00952     }
<a name="l00953"></a>00953 
<a name="l00964"></a><a class="code" href="classvrt_1_1TimeStamp.html#a929bb95a5830aeac4889064cfc4e2fd9">00964</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a929bb95a5830aeac4889064cfc4e2fd9" title="Creates a GPS time stamp from a PTP time.">forTimePTP</a> (int64_t seconds, int64_t nanoseconds, <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *_ls) {
<a name="l00965"></a>00965       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a373319bdb25b335afee86ff4d7948b27" title="Basic no-argument constructor.">TimeStamp</a>(_ls, IntegerMode_GPS, FractionalMode_RealTime, (uint32_t)(seconds-<a class="code" href="classvrt_1_1TimeStamp.html#a21abeede4932f2318181f0c4eceaa64e" title="Delta between GPS and PTP epochs.">GPS2PTP</a>),
<a name="l00966"></a>00966                                                                      nanoseconds*1000);
<a name="l00967"></a>00967     }
<a name="l00968"></a>00968 
<a name="l00979"></a><a class="code" href="classvrt_1_1TimeStamp.html#a27b6a714212f9586142fadb65eda5212">00979</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a27b6a714212f9586142fadb65eda5212" title="Creates a time stamp from a NORAD time.">forTimeNORAD</a> (int32_t seconds, int64_t picoseconds, boolNull leapCounted=_NULL) {
<a name="l00980"></a>00980       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a27b6a714212f9586142fadb65eda5212" title="Creates a time stamp from a NORAD time.">forTimeNORAD</a>(seconds, picoseconds, leapCounted, -1, <a class="code" href="classvrt_1_1LeapSeconds.html#a14d85c136506b1a4f2fe78bb59de4e5b" title="Gets the default instance.">LeapSeconds::getDefaultInstance</a>());
<a name="l00981"></a>00981     }
<a name="l00982"></a>00982 
<a name="l00993"></a><a class="code" href="classvrt_1_1TimeStamp.html#a6bc08ab13e614f5f894e16f14c265986">00993</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a27b6a714212f9586142fadb65eda5212" title="Creates a time stamp from a NORAD time.">forTimeNORAD</a> (int32_t seconds, int64_t picoseconds,
<a name="l00994"></a>00994                                                   int32_t year, <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *_ls) {
<a name="l00995"></a>00995       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a27b6a714212f9586142fadb65eda5212" title="Creates a time stamp from a NORAD time.">forTimeNORAD</a>(seconds, picoseconds, _NULL, year, _ls);
<a name="l00996"></a>00996     }
<a name="l00997"></a>00997 
<a name="l01019"></a><a class="code" href="classvrt_1_1TimeStamp.html#a1f12602076371348afe8aced5ada1e65">01019</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a27b6a714212f9586142fadb65eda5212" title="Creates a time stamp from a NORAD time.">forTimeNORAD</a> (int32_t seconds, int64_t picoseconds, boolNull leapCounted,
<a name="l01020"></a>01020                                                   int32_t year, <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *_ls) {
<a name="l01021"></a>01021       <span class="keywordtype">bool</span> _leapCounted;
<a name="l01022"></a>01022       <span class="keywordflow">if</span> (leapCounted == _NULL) {
<a name="l01023"></a>01023         _leapCounted = <a class="code" href="namespacevrt_1_1VRTConfig.html#afab85419f6851936325f17bbac0dc72c" title="Enables counting mid-year leap seconds for NORAD time (VRT_NORAD_LS_COUNTED).">VRTConfig::getNoradLeapSecCounted</a>();
<a name="l01024"></a>01024       }
<a name="l01025"></a>01025       <span class="keywordflow">else</span> {
<a name="l01026"></a>01026         _leapCounted = (leapCounted == _TRUE);
<a name="l01027"></a>01027       }
<a name="l01028"></a>01028       <span class="keywordflow">return</span> _forTimeNORAD(seconds, picoseconds, _leapCounted, year, _ls);
<a name="l01029"></a>01029     }
<a name="l01030"></a>01030 
<a name="l01032"></a>01032     <span class="keyword">private</span>: <span class="keyword">static</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> _forTimeNORAD (int32_t seconds, int64_t picoseconds, <span class="keywordtype">bool</span> leapCounted,
<a name="l01033"></a>01033                                              int32_t year, <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *ls);
<a name="l01034"></a>01034 
<a name="l01045"></a><a class="code" href="classvrt_1_1TimeStamp.html#a0af7b52940801682ccc0fcdb95e9c52d">01045</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a0af7b52940801682ccc0fcdb95e9c52d" title="Creates a time stamp from an IRIG time.">forTimeIRIG</a> (int32_t seconds, int32_t minutes, int32_t hours,
<a name="l01046"></a>01046                                                  int32_t days) {
<a name="l01047"></a>01047       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a0af7b52940801682ccc0fcdb95e9c52d" title="Creates a time stamp from an IRIG time.">forTimeIRIG</a>(seconds,minutes,hours,days,0,<a class="code" href="classvrt_1_1LeapSeconds.html#a14d85c136506b1a4f2fe78bb59de4e5b" title="Gets the default instance.">LeapSeconds::getDefaultInstance</a>());
<a name="l01048"></a>01048     }
<a name="l01049"></a>01049 
<a name="l01061"></a><a class="code" href="classvrt_1_1TimeStamp.html#a9960f10994482e77509ce8cca84fc4d1">01061</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a0af7b52940801682ccc0fcdb95e9c52d" title="Creates a time stamp from an IRIG time.">forTimeIRIG</a> (int32_t seconds, int32_t minutes, int32_t hours,
<a name="l01062"></a>01062                                                  int32_t days, <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *_ls) {
<a name="l01063"></a>01063       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a0af7b52940801682ccc0fcdb95e9c52d" title="Creates a time stamp from an IRIG time.">forTimeIRIG</a>(seconds,minutes,hours,days,0,_ls);
<a name="l01064"></a>01064     }
<a name="l01065"></a>01065 
<a name="l01078"></a><a class="code" href="classvrt_1_1TimeStamp.html#a032cb387807f8775c7ddf147fd5d76df">01078</a>     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a0af7b52940801682ccc0fcdb95e9c52d" title="Creates a time stamp from an IRIG time.">forTimeIRIG</a> (int32_t seconds, int32_t minutes, int32_t hours,
<a name="l01079"></a>01079                                                  int32_t days, int32_t hundreths) {
<a name="l01080"></a>01080       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a0af7b52940801682ccc0fcdb95e9c52d" title="Creates a time stamp from an IRIG time.">forTimeIRIG</a>(seconds,minutes,hours,days,hundreths,<a class="code" href="classvrt_1_1LeapSeconds.html#a14d85c136506b1a4f2fe78bb59de4e5b" title="Gets the default instance.">LeapSeconds::getDefaultInstance</a>());
<a name="l01081"></a>01081     }
<a name="l01082"></a>01082 
<a name="l01100"></a>01100     <span class="keyword">public</span>: <span class="keyword">static</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#a0af7b52940801682ccc0fcdb95e9c52d" title="Creates a time stamp from an IRIG time.">forTimeIRIG</a> (int32_t seconds, int32_t minutes, int32_t hours,
<a name="l01101"></a>01101                                           int32_t days, int32_t hundreths, <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *ls);
<a name="l01102"></a>01102 
<a name="l01104"></a>01104     <span class="comment">// Implement HasFields</span>
<a name="l01106"></a>01106 <span class="comment"></span>    <span class="keyword">public</span>: <span class="keyword">virtual</span> int32_t   <a class="code" href="classvrt_1_1TimeStamp.html#aa4ba85f20153f45cf9704fdd2049478f" title="Gets the number of fields.">getFieldCount</a> () <span class="keyword">const</span>;
<a name="l01107"></a>01107     <span class="keyword">public</span>: <span class="keyword">virtual</span> <span class="keywordtype">string</span>    <a class="code" href="classvrt_1_1TimeStamp.html#a0406d8eba2cba3533448a7df42da9044" title="Gets the name of the given field.">getFieldName</a>  (int32_t <span class="keywordtype">id</span>) <span class="keyword">const</span>;
<a name="l01108"></a>01108     <span class="keyword">public</span>: <span class="keyword">virtual</span> ValueType <a class="code" href="classvrt_1_1TimeStamp.html#aefc1042b03fb558507779b9d0a3dd4e7" title="Gets the type associated with a given field.">getFieldType</a>  (int32_t <span class="keywordtype">id</span>) <span class="keyword">const</span>;
<a name="l01109"></a>01109     <span class="keyword">public</span>: <span class="keyword">virtual</span> <a class="code" href="classvrt_1_1Value.html" title="A generic value used in conjunction with HasFields.">Value</a>*    <a class="code" href="classvrt_1_1TimeStamp.html#a04421a3d0ad44439a973fccb824e405f" title="Gets the value of a field, based on the field&amp;#39;s id.">getField</a>      (int32_t <span class="keywordtype">id</span>) <span class="keyword">const</span> __attribute__((warn_unused_result));
<a name="l01110"></a>01110     <span class="keyword">public</span>: <span class="keyword">virtual</span> <span class="keywordtype">void</span>      <a class="code" href="classvrt_1_1TimeStamp.html#a65194374794d38624523c7827873bd3f" title="Sets the value of a field, based on the field&amp;#39;s id.">setField</a>      (int32_t <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="classvrt_1_1Value.html" title="A generic value used in conjunction with HasFields.">Value</a>* val);
<a name="l01111"></a>01111 
<a name="l01113"></a>01113     <span class="comment">// DEPRECATED FUNCTIONS</span>
<a name="l01115"></a>01115 <span class="comment"></span>
<a name="l01116"></a>01116     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> __attribute__((deprecated)) __intelattr__((deprecated))
<a name="l01117"></a><a class="code" href="classvrt_1_1TimeStamp.html#ae55b00de76e2a3bfea3628b2d8d37bd2">01117</a>             <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#ae55b00de76e2a3bfea3628b2d8d37bd2">forNoradTime</a> (int32_t seconds, int64_t picoseconds) {
<a name="l01118"></a>01118       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a27b6a714212f9586142fadb65eda5212" title="Creates a time stamp from a NORAD time.">forTimeNORAD</a>(seconds, picoseconds, -1, <a class="code" href="classvrt_1_1LeapSeconds.html#a14d85c136506b1a4f2fe78bb59de4e5b" title="Gets the default instance.">LeapSeconds::getDefaultInstance</a>());
<a name="l01119"></a>01119     }
<a name="l01120"></a>01120 
<a name="l01122"></a>01122     <span class="keyword">public</span>: <span class="keyword">static</span> <span class="keyword">inline</span> __attribute__((deprecated)) __intelattr__((deprecated))
<a name="l01123"></a><a class="code" href="classvrt_1_1TimeStamp.html#a05bf07008c3b5957c1573f6bc74ac4b5">01123</a>             <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="classvrt_1_1TimeStamp.html#ae55b00de76e2a3bfea3628b2d8d37bd2">forNoradTime</a> (int32_t seconds, int64_t picoseconds, int32_t year, <a class="code" href="classvrt_1_1LeapSeconds.html" title="Class to deal with leap seconds.">LeapSeconds</a> *_ls) {
<a name="l01124"></a>01124       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html#a27b6a714212f9586142fadb65eda5212" title="Creates a time stamp from a NORAD time.">forTimeNORAD</a>(seconds, picoseconds, year, _ls);
<a name="l01125"></a>01125     }
<a name="l01126"></a>01126   };
<a name="l01127"></a>01127 
<a name="l01128"></a>01128   <span class="comment">// See Utilities.c for function code</span>
<a name="l01129"></a><a class="code" href="namespacevrt_1_1Utilities.html">01129</a>   <span class="keyword">namespace </span>Utilities {
<a name="l01134"></a>01134     <span class="keywordtype">void</span> <a class="code" href="namespacevrt_1_1Utilities.html#a504e28644b5310b08fa9a0999b83ac6b" title="Sleeps until the given system time and ignores any interrupted exceptions (EINTR)...">sleepUntil</a> (<a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> ts);
<a name="l01135"></a>01135   }
<a name="l01136"></a>01136 
<a name="l01137"></a>01137   <span class="comment">// See VRTMath.c for function code</span>
<a name="l01138"></a>01138   <span class="keyword">namespace </span>VRTMath {
<a name="l01146"></a><a class="code" href="namespacevrt_1_1VRTMath.html#aef7be55d6b817aaa8a8ec8d7aaf8ffbc">01146</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacevrt_1_1VRTMath.html#aef7be55d6b817aaa8a8ec8d7aaf8ffbc" title="Pack a VITA 49.0 time stamp into a buffer.">packTimeStamp</a> (<span class="keywordtype">void</span> *ptr, int32_t off, <span class="keyword">const</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> &amp;val, IntegerMode epoch, ByteOrder rep=BIG_ENDIAN) {
<a name="l01147"></a>01147       <span class="comment">// Since &apos;epoch&apos; is usually passed as a constant, the code below should</span>
<a name="l01148"></a>01148       <span class="comment">// transform into a branchless two-liner when inlined at compile time.</span>
<a name="l01149"></a>01149       <span class="keywordflow">if</span> (epoch == IntegerMode_UTC) {
<a name="l01150"></a>01150         <a class="code" href="namespacevrt_1_1VRTMath.html#a21e984c1aa15564f2ad335c50797346a" title="Pack int data into byte buffer.">packInt</a>(ptr, off, val.<a class="code" href="classvrt_1_1TimeStamp.html#a874cc97fe5e98ef0548132f421605fb6" title="Gets the integer time stamp in UTC seconds (if GPS it converts to UTC first).">getSecondsUTC</a>(), rep);
<a name="l01151"></a>01151         <a class="code" href="namespacevrt_1_1VRTMath.html#a718994d7c18bb58c72aa3914783ff10d" title="Pack long data into byte buffer.">packLong</a>(ptr, off+4, val.<a class="code" href="classvrt_1_1TimeStamp.html#a765f699c0bd679c5e2a4efb3e1d87196" title="Gets the fractional time stamp in picoseconds.">getPicoSeconds</a>(), rep);
<a name="l01152"></a>01152       }
<a name="l01153"></a>01153       <span class="keywordflow">else</span> <span class="keywordflow">if</span> (epoch == IntegerMode_GPS) {
<a name="l01154"></a>01154         <a class="code" href="namespacevrt_1_1VRTMath.html#a21e984c1aa15564f2ad335c50797346a" title="Pack int data into byte buffer.">packInt</a>(ptr, off, val.<a class="code" href="classvrt_1_1TimeStamp.html#aff0196f9f6c370bc74776a11f9da68b4" title="Gets the integer time stamp in GPS seconds (if UTC it converts to GPS first).">getSecondsGPS</a>(), rep);
<a name="l01155"></a>01155         <a class="code" href="namespacevrt_1_1VRTMath.html#a718994d7c18bb58c72aa3914783ff10d" title="Pack long data into byte buffer.">packLong</a>(ptr, off+4, val.<a class="code" href="classvrt_1_1TimeStamp.html#a765f699c0bd679c5e2a4efb3e1d87196" title="Gets the fractional time stamp in picoseconds.">getPicoSeconds</a>(), rep);
<a name="l01156"></a>01156       }
<a name="l01157"></a>01157       <span class="keywordflow">else</span> {
<a name="l01158"></a>01158         <span class="keywordflow">throw</span> <a class="code" href="classvrt_1_1VRTException.html" title="A basic exception definition.">VRTException</a>(<span class="stringliteral">&quot;Unsupported epoch given, expected GPS or UTC&quot;</span>);
<a name="l01159"></a>01159       }
<a name="l01160"></a>01160     }
<a name="l01161"></a>01161 
<a name="l01169"></a><a class="code" href="namespacevrt_1_1VRTMath.html#a2308a1e7f88edabafa9738f1e0302fae">01169</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="namespacevrt_1_1VRTMath.html#aef7be55d6b817aaa8a8ec8d7aaf8ffbc" title="Pack a VITA 49.0 time stamp into a buffer.">packTimeStamp</a> (vector&lt;char&gt; &amp;buf, int32_t off, <span class="keyword">const</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> &amp;val, IntegerMode epoch, ByteOrder rep=BIG_ENDIAN) {
<a name="l01170"></a>01170       <a class="code" href="namespacevrt_1_1VRTMath.html#aef7be55d6b817aaa8a8ec8d7aaf8ffbc" title="Pack a VITA 49.0 time stamp into a buffer.">packTimeStamp</a>(&amp;buf[0], off, val, epoch, rep);
<a name="l01171"></a>01171     }
<a name="l01172"></a>01172 
<a name="l01180"></a><a class="code" href="namespacevrt_1_1VRTMath.html#a8ebad613b55ad53a76ce530dc6726cfa">01180</a>     <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="namespacevrt_1_1VRTMath.html#a8ebad613b55ad53a76ce530dc6726cfa" title="Unpack an VITA 49.0 time stamp from a buffer.">unpackTimeStamp</a> (<span class="keyword">const</span> <span class="keywordtype">void</span> *ptr, int32_t off, IntegerMode epoch, ByteOrder rep=BIG_ENDIAN) {
<a name="l01181"></a>01181       uint32_t sec = <a class="code" href="namespacevrt_1_1VRTMath.html#ae199a445f6393f76e87b76ba26ff0c4b" title="Unpack unsigned int data from a byte buffer.">unpackUInt</a>(ptr, off, rep);
<a name="l01182"></a>01182       uint64_t ps  = <a class="code" href="namespacevrt_1_1VRTMath.html#a40a76b7acab976cd87c1dc73f725f5cd" title="Unpack unsigned long data from a byte buffer.">unpackULong</a>(ptr, off+4, rep);
<a name="l01183"></a>01183       <span class="keywordflow">return</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a>(epoch, sec, ps);
<a name="l01184"></a>01184     }
<a name="l01185"></a>01185 
<a name="l01193"></a><a class="code" href="namespacevrt_1_1VRTMath.html#ac53dfa251acf1887213518bca6fca93e">01193</a>     <span class="keyword">inline</span> <a class="code" href="classvrt_1_1TimeStamp.html" title="An immutable time stamp.">TimeStamp</a> <a class="code" href="namespacevrt_1_1VRTMath.html#a8ebad613b55ad53a76ce530dc6726cfa" title="Unpack an VITA 49.0 time stamp from a buffer.">unpackTimeStamp</a> (<span class="keyword">const</span> vector&lt;char&gt; &amp;buf, int32_t off, IntegerMode epoch, ByteOrder rep=BIG_ENDIAN) {
<a name="l01194"></a>01194       <span class="keywordflow">return</span> <a class="code" href="namespacevrt_1_1VRTMath.html#a8ebad613b55ad53a76ce530dc6726cfa" title="Unpack an VITA 49.0 time stamp from a buffer.">unpackTimeStamp</a>(&amp;buf[0], off, epoch, rep);
<a name="l01195"></a>01195     }
<a name="l01196"></a>01196   } END_NAMESPACE
<a name="l01197"></a>01197 
<a name="l01201"></a>01201   <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator&lt;  (<span class="keyword">const</span> TimeStamp &amp;a, <span class="keyword">const</span> TimeStamp &amp;b) { <span class="keywordflow">return</span> a.compareTo(b) &lt;  0; }
<a name="l01202"></a>01202 
<a name="l01206"></a>01206   <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator&lt;= (<span class="keyword">const</span> TimeStamp &amp;a, <span class="keyword">const</span> TimeStamp &amp;b) { <span class="keywordflow">return</span> a.compareTo(b) &lt;= 0; }
<a name="l01207"></a>01207 
<a name="l01211"></a>01211   <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator== (<span class="keyword">const</span> TimeStamp &amp;a, <span class="keyword">const</span> TimeStamp &amp;b) { <span class="keywordflow">return</span> a.compareTo(b) == 0; }
<a name="l01212"></a>01212 
<a name="l01216"></a>01216   <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator&gt;= (<span class="keyword">const</span> TimeStamp &amp;a, <span class="keyword">const</span> TimeStamp &amp;b) { <span class="keywordflow">return</span> a.compareTo(b) &gt;= 0; }
<a name="l01217"></a>01217 
<a name="l01221"></a>01221   <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator&gt;  (<span class="keyword">const</span> TimeStamp &amp;a, <span class="keyword">const</span> TimeStamp &amp;b) { <span class="keywordflow">return</span> a.compareTo(b) &gt;  0; }
<a name="l01222"></a>01222 } END_NAMESPACE
<a name="l01223"></a>01223 <span class="preprocessor">#endif </span><span class="comment">/* _TimeStamp_h */</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 10 Apr 2018 for VRT by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
