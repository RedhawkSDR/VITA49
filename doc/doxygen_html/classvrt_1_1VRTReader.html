<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VRT: vrt::VRTReader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>vrt</b>::<a class="el" href="classvrt_1_1VRTReader.html">VRTReader</a>
  </div>
</div>
<div class="contents">
<h1>vrt::VRTReader Class Reference</h1><!-- doxytag: class="vrt::VRTReader" --><!-- doxytag: inherits="vrt::NetIO" -->
<p>Reads VRT packets which may optionally be included in VRL frames.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="VRTReader_8h_source.html">VRTReader.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for vrt::VRTReader:</div>
<div class="dynsection">
 <div class="center">
  <img src="classvrt_1_1VRTReader.gif" usemap="#vrt::VRTReader_map" alt=""/>
  <map id="vrt::VRTReader_map" name="vrt::VRTReader_map">
<area href="classvrt_1_1NetIO.html" alt="vrt::NetIO" shape="rect" coords="0,112,98,136"/>
<area href="classvrt_1_1Threadable.html" alt="vrt::Threadable" shape="rect" coords="0,56,98,80"/>
<area href="classvrt_1_1VRTObject.html" alt="vrt::VRTObject" shape="rect" coords="0,0,98,24"/>
</map>
 </div>
</div>

<p><a href="classvrt_1_1VRTReader-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#ae49094767f6fdb894b6b2d9388798d12">VRTReader</a> (TransportProtocol transport, const string &amp;host, int32_t port, const string &amp;device, <a class="el" href="classvrt_1_1VRTEventListener.html">VRTEventListener</a> *listener, map&lt; string, string &gt; options, bool noDelete=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new instance.  <a href="#ae49094767f6fdb894b6b2d9388798d12"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#a6df56d78b1764957ea9f75b05dd1b452">VRTReader</a> (const string &amp;host, int32_t port, const string &amp;device, <a class="el" href="classvrt_1_1VRTContextListener.html">VRTContextListener</a> *listener, double timeout, int32_t recvBufSize=2097152, int32_t packetQueueSize=2500, bool readOnly=false, bool deletePointers=true)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new instance.  <a href="#a6df56d78b1764957ea9f75b05dd1b452"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#a0c44f798c07c247239ae7a4ea85789c0">VRTReader</a> (int32_t port, const string &amp;device, <a class="el" href="classvrt_1_1VRTContextListener.html">VRTContextListener</a> *listener, double timeout, int32_t recvBufSize=2097152, int32_t packetQueueSize=2500, bool readOnly=false, bool deletePointers=true)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new instance.  <a href="#a0c44f798c07c247239ae7a4ea85789c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#af1b04b66377810488d9c210184fa7d9d">VRTReader</a> (const string &amp;host, int32_t port, const string &amp;device, int32_t recvBufSize=2097152, int32_t packetQueueSize=2500, bool readOnly=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new instance.  <a href="#af1b04b66377810488d9c210184fa7d9d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#a01af150793845c2086d29e8ce60625ed">VRTReader</a> (int32_t port, const string &amp;device, int32_t recvBufSize=2097152, int32_t packetQueueSize=2500, bool readOnly=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates a new instance.  <a href="#a01af150793845c2086d29e8ce60625ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#a4bd16138e3750f7f611cf47c8574e07c">~VRTReader</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys the current instance, closing the socket if required.  <a href="#a4bd16138e3750f7f611cf47c8574e07c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#a2b9835475f60612c546804a2149450a3">reconnect</a> (const <a class="el" href="classvrt_1_1VRTEventListener.html">VRTEventListener</a> &amp;warnings)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Requests a reconnect and waits for it to be done.  <a href="#a2b9835475f60612c546804a2149450a3"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d9aae1de8397affde6c99b7c8d80888"></a><!-- doxytag: member="vrt::VRTReader::DEFAULT_MAX_QUEUE_SIZE" ref="a6d9aae1de8397affde6c99b7c8d80888" args="" -->
static const int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_MAX_QUEUE_SIZE</b> = 2500</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#ad16aafa134e3eee3fd0833e29b8338df">DEFAULT_TIMEOUT</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The "timeout" value indicating the default wait of 60.0 sec.  <a href="#ad16aafa134e3eee3fd0833e29b8338df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#a2f90848c7f44fccf5a088885b85c574e">UNLIMITED_TIMEOUT</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The "timeout" value indicating an unlimited wait.  <a href="#a2f90848c7f44fccf5a088885b85c574e"></a><br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#a3c0ea2a279c000a1e42e88c63259f9a5">handle</a> (vector&lt; char &gt; *buffer, int32_t length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handles the packet read in.  <a href="#a3c0ea2a279c000a1e42e88c63259f9a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual vector&lt; char &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#a30169776547ead63521d7976f78244fe">receiveBufferTCP</a> (bool autoPush)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receive a packet via UDP.  <a href="#a30169776547ead63521d7976f78244fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual vector&lt; char &gt; *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#a3fcc28f1e76c4514cbb464d9797b441e">receiveBufferUDP</a> (bool autoPush)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Receive a packet via UDP.  <a href="#a3fcc28f1e76c4514cbb464d9797b441e"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#a5d0845a0daa88910bbb28094e688cd8b">FOUND_INITIAL</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The start time indicator that the initial context has already been found.  <a href="#a5d0845a0daa88910bbb28094e688cd8b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrt_1_1VRTReader.html#a0a179e7f8c0a6782bee91231a2c8bdb8">LEGACY_MODE</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The "timeout" value indicating that "legacy mode" should be used.  <a href="#a0a179e7f8c0a6782bee91231a2c8bdb8"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Reads VRT packets which may optionally be included in VRL frames. </p>
<p>The choice between VRT packet and VRL frame is made automatically by looking at the first four bytes received and seeing if they match the <code>VRLFrame::VRL_FAW</code>, if not a VRT packet is assumed.<br/>
 <br/>
 <b>Prior to Oct 2013 this class used <code><a class="el" href="multicast_8h_source.html">multicast.h</a></code>, which limited its applicability to only UDP/Multicast input. This was changed in Oct 2013 to support UDP/Unicast and TCP, accordingly the inclusion of <code><a class="el" href="multicast_8h_source.html">multicast.h</a></code> was dropped.</b> </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a01af150793845c2086d29e8ce60625ed"></a><!-- doxytag: member="vrt::VRTReader::VRTReader" ref="a01af150793845c2086d29e8ce60625ed" args="(int32_t port, const string &amp;device, int32_t recvBufSize=2097152, int32_t packetQueueSize=2500, bool readOnly=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vrt::VRTReader::VRTReader </td>
          <td>(</td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>recvBufSize</em> = <code>2097152</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>packetQueueSize</em> = <code>2500</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>readOnly</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new instance. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The port number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>The device to connect to (e.g. "eth0", "eth1.101") (null = use default). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recvBufSize</em>&nbsp;</td><td>The SO_RCVBUF size in bytes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packetQueueSize</em>&nbsp;</td><td>The packet queue size in packets. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>readOnly</em>&nbsp;</td><td>Are packets read-only? </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classvrt_1_1VRTException.html" title="A basic exception definition.">VRTException</a></em>&nbsp;</td><td>If an I/O exception occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af1b04b66377810488d9c210184fa7d9d"></a><!-- doxytag: member="vrt::VRTReader::VRTReader" ref="af1b04b66377810488d9c210184fa7d9d" args="(const string &amp;host, int32_t port, const string &amp;device, int32_t recvBufSize=2097152, int32_t packetQueueSize=2500, bool readOnly=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vrt::VRTReader::VRTReader </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>recvBufSize</em> = <code>2097152</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>packetQueueSize</em> = <code>2500</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>readOnly</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new instance. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>The host to connect to (null = wildcard address). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The port number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>The device to connect to (e.g. "eth0", "eth1.101") (null = use default). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recvBufSize</em>&nbsp;</td><td>The SO_RCVBUF size in bytes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packetQueueSize</em>&nbsp;</td><td>The packet queue size in packets. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>readOnly</em>&nbsp;</td><td>Are packets read-only? </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classvrt_1_1VRTException.html" title="A basic exception definition.">VRTException</a></em>&nbsp;</td><td>If an I/O exception occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0c44f798c07c247239ae7a4ea85789c0"></a><!-- doxytag: member="vrt::VRTReader::VRTReader" ref="a0c44f798c07c247239ae7a4ea85789c0" args="(int32_t port, const string &amp;device, VRTContextListener *listener, double timeout, int32_t recvBufSize=2097152, int32_t packetQueueSize=2500, bool readOnly=false, bool deletePointers=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vrt::VRTReader::VRTReader </td>
          <td>(</td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvrt_1_1VRTContextListener.html">VRTContextListener</a> *&nbsp;</td>
          <td class="paramname"> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>recvBufSize</em> = <code>2097152</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>packetQueueSize</em> = <code>2500</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>readOnly</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>deletePointers</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new instance. </p>
<p><br/>
 <br/>
 <em>For historical reasons (i.e. to prevent incompatibilities with the Java version in VRT version 1.0 and earlier), the default timeout value (i.e. <a class="el" href="classvrt_1_1VRTReader.html#ad16aafa134e3eee3fd0833e29b8338df">DEFAULT_TIMEOUT</a>) must be explicitly provided.</em> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The port number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>The device to connect to (e.g. "eth0", "eth1.101") (null = use default). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>listener</em>&nbsp;</td><td>The listener used to handle any errors/warnings and to receive any packets. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>The approximate timeout (in seconds) applied when checking for the initial packets. If the complete initial context is not received before the first packet received after this time has elapsed, it will be reported as an error (via <code>errorMsg</code> in <a class="el" href="classvrt_1_1VRTContextListener.html#ae26c2c5c4604b236a5368b6fe6a4e08e">VRTContextListener#receivedInitialContext</a> if appropriate). Setting this to <a class="el" href="classvrt_1_1VRTReader.html#a2f90848c7f44fccf5a088885b85c574e">UNLIMITED_TIMEOUT</a> disables the timeout. The default timeout value to use is <a class="el" href="classvrt_1_1VRTReader.html#ad16aafa134e3eee3fd0833e29b8338df">DEFAULT_TIMEOUT</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recvBufSize</em>&nbsp;</td><td>The SO_RCVBUF size in bytes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packetQueueSize</em>&nbsp;</td><td>The packet queue size in packets. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>readOnly</em>&nbsp;</td><td>Are packets read-only? </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deletePointers</em>&nbsp;</td><td>Delete pointers when done? </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classvrt_1_1VRTException.html" title="A basic exception definition.">VRTException</a></em>&nbsp;</td><td>If an I/O exception occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6df56d78b1764957ea9f75b05dd1b452"></a><!-- doxytag: member="vrt::VRTReader::VRTReader" ref="a6df56d78b1764957ea9f75b05dd1b452" args="(const string &amp;host, int32_t port, const string &amp;device, VRTContextListener *listener, double timeout, int32_t recvBufSize=2097152, int32_t packetQueueSize=2500, bool readOnly=false, bool deletePointers=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vrt::VRTReader::VRTReader </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvrt_1_1VRTContextListener.html">VRTContextListener</a> *&nbsp;</td>
          <td class="paramname"> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>recvBufSize</em> = <code>2097152</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>packetQueueSize</em> = <code>2500</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>readOnly</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>deletePointers</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new instance. </p>
<p><br/>
 <br/>
 <em>For historical reasons (i.e. to prevent incompatibilities with the Java version in VRT version 1.0 and earlier), the default timeout value (i.e. <a class="el" href="classvrt_1_1VRTReader.html#ad16aafa134e3eee3fd0833e29b8338df">DEFAULT_TIMEOUT</a>) must be explicitly provided.</em> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>The host to connect to (null = wildcard address). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The port number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>The device to connect to (e.g. "eth0", "eth1.101") (null = use default). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>listener</em>&nbsp;</td><td>The listener used to handle any errors/warnings and to receive any packets. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>The approximate timeout (in seconds) applied when checking for the initial packets. If the complete initial context is not received before the first packet received after this time has elapsed, it will be reported as an error (via <code>errorMsg</code> in <a class="el" href="classvrt_1_1VRTContextListener.html#ae26c2c5c4604b236a5368b6fe6a4e08e">VRTContextListener#receivedInitialContext</a> if appropriate). Setting this to <a class="el" href="classvrt_1_1VRTReader.html#a2f90848c7f44fccf5a088885b85c574e">UNLIMITED_TIMEOUT</a> disables the timeout. The default timeout value to use is <a class="el" href="classvrt_1_1VRTReader.html#ad16aafa134e3eee3fd0833e29b8338df">DEFAULT_TIMEOUT</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>recvBufSize</em>&nbsp;</td><td>The SO_RCVBUF size in bytes. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packetQueueSize</em>&nbsp;</td><td>The packet queue size in packets. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>readOnly</em>&nbsp;</td><td>Are packets read-only? </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deletePointers</em>&nbsp;</td><td>Delete pointers when done? </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classvrt_1_1VRTException.html" title="A basic exception definition.">VRTException</a></em>&nbsp;</td><td>If an I/O exception occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae49094767f6fdb894b6b2d9388798d12"></a><!-- doxytag: member="vrt::VRTReader::VRTReader" ref="ae49094767f6fdb894b6b2d9388798d12" args="(TransportProtocol transport, const string &amp;host, int32_t port, const string &amp;device, VRTEventListener *listener, map&lt; string, string &gt; options, bool noDelete=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vrt::VRTReader::VRTReader </td>
          <td>(</td>
          <td class="paramtype">TransportProtocol&nbsp;</td>
          <td class="paramname"> <em>transport</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvrt_1_1VRTEventListener.html">VRTEventListener</a> *&nbsp;</td>
          <td class="paramname"> <em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">map&lt; string, string &gt;&nbsp;</td>
          <td class="paramname"> <em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>noDelete</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a new instance. </p>
<p>The options provided to control the socket and connection may include any of the "Socket Creation Options" listed at the top of <a class="el" href="namespacevrt_1_1NetUtilities.html">NetUtilities</a> plus the following: </p>
<pre>
    INITIAL_TIMEOUT     - The approximate timeout (in seconds) applied when
                          checking for the initial packets. If the complete
                          initial context is not received before the first
                          packet received after this time has elapsed, it
                          will be reported as an error if appropriate). This
                          can also take one of the following special values:
                            -1 = Unlimited wait time.
                            -2 = Use "legacy mode" (pre 2011 version of library)
    QUEUE_LIMIT_PACKETS - Maximum receive queue size in number of packets
                          [Default = 1024]
    QUEUE_LIMIT_OCTETS  - Maximum receive queue size in octets (total of all
                          packets in queue) [Default = 8 MiB]
  </pre><p> It is suggested that users start with the default set of options provided by <a class="el" href="namespacevrt_1_1NetUtilities.html#aea1867aba70c09841e4f27b298a43c98">NetUtilities#getDefaultSocketOptions</a>. Starting with an empty map (or simply passing in null) will use the o/s defaults, which may not be ideal for use with VITA-49 streams. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transport</em>&nbsp;</td><td>The transport to use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>The host to connect to (null = wildcard address). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The port number (null = any port). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>device</em>&nbsp;</td><td>The device to connect to (e.g. "eth0", "eth1.101") (null = use default). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>listener</em>&nbsp;</td><td>The listener used to handle any errors/warnings and to receive any packets. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>options</em>&nbsp;</td><td>Map of options to set (can be null). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>noDelete</em>&nbsp;</td><td>Should <a class="el" href="classvrt_1_1VRTReader.html">VRTReader</a> skip the normal <code>delete</code> calls following the sending of a packet to the listener (true) or should <a class="el" href="classvrt_1_1VRTReader.html">VRTReader</a> make sure the packets are deleted (false)? Note that if <code>noDelete=true</code> the listener assumes all responsibility for deleting any packets sent to its <code>receivedPacket(..)</code>, <code>receivedDataPacket(..)</code>, or <code>receivedContextPacket(..)</code> methods (note that <code>receivedInitialContext(..)</code> is NOT included in this list since the packets in that call are passed by reference). all packet objects as soon as the call to (true) or will </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classvrt_1_1VRTException.html" title="A basic exception definition.">VRTException</a></em>&nbsp;</td><td>If an I/O exception occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4bd16138e3750f7f611cf47c8574e07c"></a><!-- doxytag: member="vrt::VRTReader::~VRTReader" ref="a4bd16138e3750f7f611cf47c8574e07c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vrt::VRTReader::~VRTReader </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroys the current instance, closing the socket if required. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3c0ea2a279c000a1e42e88c63259f9a5"></a><!-- doxytag: member="vrt::VRTReader::handle" ref="a3c0ea2a279c000a1e42e88c63259f9a5" args="(vector&lt; char &gt; *buffer, int32_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void vrt::VRTReader::handle </td>
          <td>(</td>
          <td class="paramtype">vector&lt; char &gt; *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles the packet read in. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>The data read in. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>The number of bytes read in. <em>[This is here for backwards-compatibility, it is always called with a value equal to <code>buffer.length</code>.]</em> </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classvrt_1_1NetIO.html#a3fde1e634f6b6d9955fe72542777aa34">vrt::NetIO</a>.</p>

</div>
</div>
<a class="anchor" id="a30169776547ead63521d7976f78244fe"></a><!-- doxytag: member="vrt::VRTReader::receiveBufferTCP" ref="a30169776547ead63521d7976f78244fe" args="(bool autoPush)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual vector&lt;char&gt;* vrt::VRTReader::receiveBufferTCP </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>autoPush</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive a packet via UDP. </p>

<p>Reimplemented from <a class="el" href="classvrt_1_1NetIO.html#ae2ef7300feee7c63213b6c63a9a529b0">vrt::NetIO</a>.</p>

</div>
</div>
<a class="anchor" id="a3fcc28f1e76c4514cbb464d9797b441e"></a><!-- doxytag: member="vrt::VRTReader::receiveBufferUDP" ref="a3fcc28f1e76c4514cbb464d9797b441e" args="(bool autoPush)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual vector&lt;char&gt;* vrt::VRTReader::receiveBufferUDP </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>autoPush</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Receive a packet via UDP. </p>

<p>Reimplemented from <a class="el" href="classvrt_1_1NetIO.html#a551265c20fb443561b70763fac29bbb7">vrt::NetIO</a>.</p>

</div>
</div>
<a class="anchor" id="a2b9835475f60612c546804a2149450a3"></a><!-- doxytag: member="vrt::VRTReader::reconnect" ref="a2b9835475f60612c546804a2149450a3" args="(const VRTEventListener &amp;warnings)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void vrt::VRTReader::reconnect </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvrt_1_1VRTEventListener.html">VRTEventListener</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>warnings</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Requests a reconnect and waits for it to be done. </p>

<p>Reimplemented from <a class="el" href="classvrt_1_1NetIO.html#a31bb39c68ae659470be2edc0637f35d0">vrt::NetIO</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ad16aafa134e3eee3fd0833e29b8338df"></a><!-- doxytag: member="vrt::VRTReader::DEFAULT_TIMEOUT" ref="ad16aafa134e3eee3fd0833e29b8338df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int32_t <a class="el" href="classvrt_1_1VRTReader.html#ad16aafa134e3eee3fd0833e29b8338df">vrt::VRTReader::DEFAULT_TIMEOUT</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The "timeout" value indicating the default wait of 60.0 sec. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000007">Deprecated:</a></b></dt><dd>Since Oct 2013 (not required by new constructor). </dd></dl>

</div>
</div>
<a class="anchor" id="a5d0845a0daa88910bbb28094e688cd8b"></a><!-- doxytag: member="vrt::VRTReader::FOUND_INITIAL" ref="a5d0845a0daa88910bbb28094e688cd8b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int32_t <a class="el" href="classvrt_1_1VRTReader.html#a5d0845a0daa88910bbb28094e688cd8b">vrt::VRTReader::FOUND_INITIAL</a><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The start time indicator that the initial context has already been found. </p>

</div>
</div>
<a class="anchor" id="a0a179e7f8c0a6782bee91231a2c8bdb8"></a><!-- doxytag: member="vrt::VRTReader::LEGACY_MODE" ref="a0a179e7f8c0a6782bee91231a2c8bdb8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int32_t <a class="el" href="classvrt_1_1VRTReader.html#a0a179e7f8c0a6782bee91231a2c8bdb8">vrt::VRTReader::LEGACY_MODE</a><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The "timeout" value indicating that "legacy mode" should be used. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000009">Deprecated:</a></b></dt><dd>Since Oct 2013 (not required by new constructor). </dd></dl>

</div>
</div>
<a class="anchor" id="a2f90848c7f44fccf5a088885b85c574e"></a><!-- doxytag: member="vrt::VRTReader::UNLIMITED_TIMEOUT" ref="a2f90848c7f44fccf5a088885b85c574e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int32_t <a class="el" href="classvrt_1_1VRTReader.html#a2f90848c7f44fccf5a088885b85c574e">vrt::VRTReader::UNLIMITED_TIMEOUT</a><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The "timeout" value indicating an unlimited wait. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000008">Deprecated:</a></b></dt><dd>Since Oct 2013 (not required by new constructor). </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cpp_src/vrt/net/<a class="el" href="VRTReader_8h_source.html">VRTReader.h</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 25 Jun 2018 for VRT by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
